/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our Samples at https://docs.gradle.org/9.2.0/samples
 * This project uses @Incubating APIs which are subject to change.
 */

plugins {
  id 'java'
  id 'org.springframework.boot' version '4.0.1' apply false
  id 'io.spring.dependency-management' version '1.1.7' apply false
}


subprojects {
  apply plugin: 'java'
  apply plugin: 'io.spring.dependency-management'

  group = 'com.justinndidit.nexus'
  version = '0.0.1-SNAPSHOT'

  java {
      toolchain{
        languageVersion = JavaLanguageVersion.of(25)
      }
  }

  repositories{
      mavenCentral()
  }



  /*
    This tells Gradle where to find versions for Lombok, JUnit, etc.
    This selects the version of the dependency matching the version of spring boot

    This can be removed if each dependency specifies their version
    Hardcoding versions might cause runtime errors if the version is wrong
    BOM manages all versioning making it easier to upgrade java or spring boot
  */
  dependencyManagement {
      imports {
        mavenBom "org.springframework.boot:spring-boot-dependencies:4.0.0"
        mavenBom "org.springframework.cloud:spring-cloud-dependencies:2025.1.0"
      }
  }

  configurations {
    developmentOnly
    runtimeClasspath {
      extendsFrom developmentOnly
    }
  }

  dependencies {
    compileOnly 'org.projectlombok:lombok'
    annotationProcessor 'org.projectlombok:lombok'

    developmentOnly 'org.springframework.boot:spring-boot-devtools'
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
  }

  test {
      useJUnitPlatform()
  }

}